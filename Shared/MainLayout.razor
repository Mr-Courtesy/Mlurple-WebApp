@inherits LayoutComponentBase
@using Mlurple_WebApp.Classes
@using Blazored.LocalStorage
@inject ILocalStorageService StorageService

@* <div class="page">
    <div class="sidebar">
    <NavMenu />
    </div>
</div> *@

<div class="main">
    <div class="top-row px-4">
        @if (currentUser != null)
        {
            <a href="/logout">Logout</a>
        }
        else if (currentUser == null)
        {
            <a href="/register">Register</a>
            <a href="/login">Login</a>
        }
    </div>

    <div class="content px-4">
        @Body
    </div>
</div>
@* </div> *@
@code
{
    string currentUser;
    protected override async Task OnInitializedAsync()
    {
        currentUser = await StorageService.GetItemAsync<string>("username");
    }
}
